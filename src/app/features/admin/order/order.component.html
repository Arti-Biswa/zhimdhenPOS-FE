<div class="flex flex-col min-h-screen bg-[#fefccf]">
  <app-navbar class="z-10"></app-navbar>
  <app-sidebar class="z-10"></app-sidebar>
  <main class="flex-1 p-6 lg:ml-64 overflow-hidden ">
    <div class="overflow-x-auto px-4">
      <table
        class="w-full text-sm text-gray-700"
        style="border-collapse: separate; border-spacing: 0 6px; table-layout: fixed;"
      >
        <thead class="bg-[#f3f4f6] text-gray-800 font-semibold rounded-lg">
          <tr>
            <th class="px-4 py-3 break-words text-center">Table Number</th>
            <th class="px-4 py-3 break-words text-center">QR Code</th>
             <th class="px-4 py-3 break-words text-center">New Order</th>
          </tr>
        </thead>
       <tbody>
  <tr *ngFor="let table of tableList">
    <td class="text-center">{{ table.tableNumber }}</td>
    <td class="text-center">
      <img *ngIf="qrImages[table.tableNumber]"
           [src]="qrImages[table.tableNumber]"
           alt="QR Code"
           class="w-24 h-24 border rounded shadow" />
    </td>
    <td class="text-center">
      <button *ngIf="newOrdersCountMap[table.tableNumber] > 0"
              (click)="markAsViewed(table.tableNumber)"
              class="text-red-600 font-bold underline">
        {{ newOrdersCountMap[table.tableNumber] }} new order(s) - Mark as viewed
      </button>
      <span *ngIf="!newOrdersCountMap[table.tableNumber] || newOrdersCountMap[table.tableNumber] === 0" class="text-gray-400 italic">
        No new orders
      </span>

